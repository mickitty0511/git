# Git

## ブランチの作成から削除まで

### ①gitでブランチを作成する

ブランチ：  
メインとなるリポジトリから分岐して、  
担当する機能を開発する際に作成する。  
メインのリポジトリに更新・削除の影響がない状態で、  
複数人による開発を進められる。  

**git clone**

・リモートリポジトリをカレントディレクトリでローカルリポジトリに落とし込む。  

**git branch \<branch-name\>**

・branch-name ＝ ブランチ名。作業内容が分かりやすく短い名前にする  
・ブランチ名命名規則：単語をつなげるときは「-」で  

**git checkout \<branch-name\>**

・作成したブランチに切り替える  

**git branch -b \<branch-name\>**

・ブランチを作成すると同時に作成したブランチに切り替える  

#### pagerを無効にする
**git config --global --replace-all core.pager "less -F -X"**

git branch や git diff時にpager(一覧で表示する)で表示されるのを防ぐ  

**git status**

・Working Directory, Staging Areaにどのような変更内容があるかを確認する。  
※Working Directory→ファイルを変更する場所。  
※Staging Area  
→ローカルリポジトリに置く前の場所。  
 更新・作成したファイルをまとめておく場所で、  
 Staging Areaからローカルリポジトリにコミットする。  

___

### ②ファイルをStaging Areaに入れる。
**git add \<filename\>**

・指定したファイルをStaging Areaに追加する。  

**git add \<foldername\>**

・指定したフォルダをStagin Areaに追加する。

**git add .**

・カレントディレクトリのファイルをすべてStaging Area に追加する。  


**git add -u**

・更新したファイルのみをStaging Areaに追加する。  

___

### ③Staging Areaにある変更内容をローカルリポジトリにコミットする
**git commit -m "message"**

・Staging Areaにある変更内容をリポジトリにメッセージつきでコミットする。  
（メッセージをつけることで変更内容を文言で示すことができる）  

___

### ④ローカルリポジトリにコミットした内容の履歴を確認する。
**git log**

・過去のコミットID, コミットした日付(Date), コミットメッセージ、コミット実行者(Author)が表示される。  
・最新のコミットが上に表示され、下に過去のコミットが表示される  

___

### ⑤リモートリポジトリにローカルリポジトリの内容をpushする

複数人による開発でcloneした時と比べて、リモートリポジトリの内容が更新されている場合がある。  
→最新のリモートリポジトリをローカルリポジトリに反映してから、リモートリポジトリにpushする必要がある。    

**git pull \<remote_ref\> \<branch-name\>**

・リモートリポジトリ(\<remote_ref\>)にある指定したブランチ(\<branch-name\>)の状態を  
  ローカルリポジトリに反映する。  

**git push \<remote_ref\> \<branch-name\>**

・リモートリポジトリ(\<remote_ref\>)に、指定したブランチ(\<branch-name\>)の変更内容をpushする。  
  指定したブランチがpullしたときのリモートリポジトリにないものであれば、  
  ブランチが新規作成される。（ローカルリポジトリの状態がリモートリポジトリに反映される。）  

___

### ⑥ブランチを他のブランチにマージする

**・Githubでpull requestを行う。**
→
1. Githubでpull requestをクリック。  
1. マージ対象のブランチを選択する。  
  左のブランチにはマージ先（マージ後に残る）、右のブランチはマージ後に消したいものを選択。  
1. Create pull requestをクリックする。  
※pull request：開発中または開発完了後に変更内容を確認できるようにする。  
1. pull requestを他の開発者が確認し、許可を出してもらう。  
（変更前後の差分を確認してもらう。）  

___

### ⑦ブランチのマージ後のリモートリポジトリをローカルリポジトリに反映する。

**git checkout \<merged-branch-name\>**

・マージ後に残ったブランチ\<merged-branch-name\>の状態をローカルリポジトリに反映するために  
マージ後に残ったブランチに切り替える。  

**git pull \<remote_ref\> \<merged-branch-name\>**  

・マージ後に残ったブランチ\<merged-branch-name\>の状態をローカルリポジトリに反映する。  

___

### ⑧不要になったブランチをローカル・リモートリポジトリで削除する
●ローカルリポジトリで不要になったブランチを削除する場合  
**git branch -d \<branch-name\>**  
※マージしていないブランチは削除できない。  
※強制的に削除する場合は-d→-Dにする  

●リモートリポジトリで不要になったブランチを削除する場合  
**・Githubのブランチ一覧で削除する**  